<script>
const a = [[1, 'frank', 18, 0], [2, 'jack', 19, 1], [3, 'tom', 20, 0], [4, 'Jerry', 21, 3]]
// const b = {
//   frank: {
//      id: 1, value:18, children: [
//         {jack: {id: 2, value:19, children: null}}
//      ]
// }, 
//  ...
// a.reduce((pre,cur,i,arr)=>{
//   console.log(i,pre)
//   if(i===0) return pre
//   if(pre[3]===i-1){
//     pre[]
//   }
// },[])
// // 先数组的父元素切换成对应的项
let data =[
    {id:1,name:'部门A',parentId:0},
    {id:2,name:'部门B',parentId:0},
    {id:3,name:'部门C',parentId:1},
    {id:4,name:'部门D',parentId:1},
    {id:5,name:'部门E',parentId:2},
    {id:6,name:'部门F',parentId:3},
    {id:7,name:'部门G',parentId:2},
    {id:8,name:'部门H',parentId:4}
];
// 利用地址的存储
function convert(list) {
	const res = []
	const map = list.reduce((res, v) => (res[v.id] = v, v.children = [], res), {})
	for (const item of list) {
		if (item.parentId === 0) {
			res.push(item)
			continue
		}
		if (item.parentId in map) {
      debugger
			const parent = map[item.parentId]
			parent.children = parent.children || []
			parent.children.push(item)
      debugger
		}
	}
	return res
}
console.log(convert(data));
</script>